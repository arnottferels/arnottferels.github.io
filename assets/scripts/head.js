import{E as h,N as C,Q as T,j as N,H as E,as as D,V as _,h as I,i as w,e as O,at as H,v as V,au as x,a8 as S,a3 as U,u as $,k as b,av as B,c as G,aw as L,ax as K,ay as k,az as Q}from"./const.mjs";import{I as p,M as W}from"./media.mjs";import{d as Y}from"./debounce.mjs";import{i as q,a as F}from"./key.mjs";import"./events.mjs";const z=()=>{[`[${N}] ${E}`,`[${D}] ${E}`].forEach((t=>{document.querySelectorAll(t).forEach((t=>{const e=t.getAttribute("href")||"";if("/"!==e&&window.location.pathname.includes(e)){t.setAttribute("data-anchor",C);new MutationObserver((()=>{const e=document.documentElement.getAttribute(T);e===_[0]?t.style.borderColor="#000":e===_[1]&&(t.style.borderColor="#fff")})).observe(document.documentElement,{attributes:!0,attributeFilter:[T]})}}))}))},j=()=>p&&h.forEach((t=>document.addEventListener(t,z)));j();const f=(t,e,n,o,a,r)=>{const s=t+e/2,i=n*o,d=n*a;return 0===r.length?"center":s<i?r[0]:s>d?r[r.length-1]:r[Math.floor(r.length/2)]},X=t=>{const{left:e,top:n,width:o,height:a}=t.getBoundingClientRect(),r=`${f(e,o,window.innerWidth,.4,.6,["left","center","right"])},${f(n,a,window.innerHeight,.45,.55,["top","bottom"])}`;t.setAttribute(H,r)},Z=()=>{if(p){const t=()=>{document.querySelectorAll(`[${O}]`).forEach((t=>X(t)))};[I,w].forEach((e=>window.addEventListener(e,Y(t))))}};Z();const R=()=>-1!==window.location.search.indexOf("print=true"),g=()=>{R()&&window.print()},J=()=>{h.forEach((t=>document.addEventListener(t,g))),window.addEventListener(V,g)};J();const y="data-current-url",u="data-print-message",A=window.location.pathname,tt=x.has(A),et=[...S].some((t=>A.startsWith(t)&&A.length>t.length));let m=null;const nt=t=>{document.body.setAttribute(y,t),m=document.body.innerHTML,document.body.innerHTML=""},ot=t=>{const e=document.createElement($);e.setAttribute(u,""),e.style.display="block",e.style.fontSize="10pt",e.style.margin="20pt",e.style.fontFamily="Times New Roman, Calibri, sans-serif";const n=document.createElement(E);n.href=t,n.target="_blank",n.textContent=t,e.textContent="The printed version is not available. Please visit the link for the full content: ",e.appendChild(n),document.body.appendChild(e)},st=()=>{const t=R(),e=document.querySelector('meta[name="site"]'),n=e?.getAttribute("content")||"";!t&&e&&!et&&!tt&&(nt(n),ot(n))},rt=()=>{m&&(document.body.innerHTML=m);const t=document.querySelector(`[${u}]`);t&&t.removeAttribute(u),document.body.removeAttribute(y)},it=t=>{t.matches?(m=document.body.innerHTML,st()):rt()},at=window.matchMedia(W),ct=()=>at.addEventListener(U,it);ct();const dt=[b,...B,...S],mt=()=>{const t=window.location.pathname;return dt.some((e=>t===e||t.startsWith(e)&&(t.length===e.length||t[e.length]===b)))},lt=t=>mt()&&(q(t)||F(t))&&t.preventDefault(),Et=()=>window.addEventListener(G,lt);Et();const P="unknown",v=()=>navigator.userAgent.toLowerCase(),ut=()=>{const t=navigator.userAgent.toLowerCase(),e=new Map([["android",["android"]],["ios",["iphone","ipad","ipod"]],["linux",["linux"]],["macos",["macintosh","mac os"]],["unix",["unix"]],["win",["windows"]]]);let n=P;return e.forEach(((e,o)=>{e.some((e=>t.includes(e)))&&(n=o)})),n},At=()=>{const t=v(),e=new Map([["mobile",[["mobile","android","iphone"],null]],["tablet",[["tablet"],()=>window.innerWidth<=Q]]]);let n="desktop";return e.forEach(((e,o)=>{const[a,r]=e,s=a.some((e=>t.includes(e))),i=!!r&&r();(s||i)&&(n=o)})),n},ht=()=>{const t=v(),e=new Map([["firefox",[["firefox"],""]],["safari",[["safari"],"chrome"]],["chrome",[["chrome"],"edg"]],["chromium",[["chromium"],""]],["brave",[["brave"],""]],["edge",[["edg"],""]],["opera",[["opera","opr"],""]],["ie",[["trident","msie"],""]]]);let n=P;return e.forEach(((e,o)=>{const[a,r]=e,s=(Array.isArray(a)?a:[a]).some((e=>t.includes(e))),i=r&&t.includes(r);s&&!i&&(n=o)})),n},l=()=>{[[K,ut(),"data-os"],[k,At(),"data-device"],[L,ht(),"data-browser"]].forEach((([t,e,n])=>{const o=sessionStorage.getItem(t)||e;void 0!==o&&(sessionStorage.setItem(t,o),document.documentElement.setAttribute(n,o))}))},Tt=()=>{h.forEach((t=>document.addEventListener(t,l))),window.addEventListener(w,l),sessionStorage.getItem(L)||l()};Tt();