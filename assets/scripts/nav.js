import{E as I,i as L,x as h,y as g,a as l,z as c,A as C,F as R,G as u,H as T,J as i,L as V,o as b,M as D,N as B}from"./const.mjs";import{I as U}from"./media.mjs";import"./events.mjs";let n=!1;const A=()=>document.querySelector(`[${u}]`),y=()=>document.querySelector(`.${V} ${b}`),O=()=>[...Array.from(A()?.querySelectorAll(T)||[]),y()].filter(Boolean),N=()=>document.querySelector(`[${i}]`),p=()=>document.querySelector(`${T}[href="/"]`),S=(e,t)=>{e?.setAttribute(u,""),t?.setAttribute(i,""),sessionStorage.setItem(c,"false")},m=(e,t)=>{e.setAttribute(u,D),t.setAttribute(i,B),sessionStorage.setItem(c,"true")},P=()=>{const e=A(),t=N();e&&t&&(n?S(e,t):m(e,t),n=!n)},a=()=>{const e=A(),t=N();if(e&&t){t.textContent="Menu",t?.addEventListener(l,P);const s=sessionStorage.getItem(c),o=()=>{n=!0,m(e,t)},r=()=>{n=!1,S(e,t)};n="true"===s,!n||window.innerWidth>=C?r():o();const i=(e,t)=>{e.addEventListener(l,(()=>{t(),a()}))};[p(),...O()].forEach((e=>e&&i(e,r))),new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.forEach((e=>{e instanceof Element&&e.matches(R)&&i(e,r)}))}))})).observe(document.body,{childList:!0,subtree:!0})}},q=()=>{U&&I.forEach((e=>document.addEventListener(e,a))),[L,h,g].forEach((e=>window.addEventListener(e,a)))};q();